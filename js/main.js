$(document).ready((function(){const t=$(".main__products-item"),n=$(".main__products-carousel-track"),i=$(".main__products-carousel-dots");let e=0;function a(){const t=s();e=Math.min(e,t.length-1),function(){const t=`calc(-${100*e}% - ${16*e}px)`;n.css("transform",`translateX(${t})`)}(),function(t){i.empty(),t.each((t=>{const n=function(t){const n=$('<button type="button"></button>').attr("aria-label","Перемкнути на слайд "+(t+1)).toggleClass("active",t===e);return n.on("click",(()=>{e=t,a()})),n}(t);i.append(n)}))}(t)}function s(){return n.find(".main__products-carousel-slide").filter(":visible")}function c(t){const n=t.touches[0];startX=n.clientX,startY=n.clientY,isSwiping=!1}function o(t){const n=t.touches[0];endX=n.clientX,endY=n.clientY,!isSwiping&&Math.abs(endX-startX)>Math.abs(endY-startY)&&(isSwiping=!0,t.preventDefault())}function d(){if(!isSwiping)return;const t=endX-startX,n=s();Math.abs(t)>50&&(e=(e+(t>0?-1:1)+n.length)%n.length,a()),startX=startY=endX=endY=0,isSwiping=!1}function l(){const t=s();e=(e-1+t.length)%t.length,a()}function r(){const t=s();e=(e+1)%t.length,a()}function u(){t.removeClass("active"),$(this).addClass("active");!function(t){$("[data-slide-text], [data-slide-img], [data-slide]").each((function(){const n=$(this),i=n.data("slideText"),e=n.data("slideImg"),a=n.attr("data-slide"),s=i===t||e===t||a&&a.split(",").map((t=>t.trim())).includes(String(t));n.toggleClass("hidden",!s)}))}($(this).data("cat")),e=0,a(),window.lazyLoadBackground()}a(),function(){const t=n[0];t.addEventListener("touchstart",c,{passive:!0}),t.addEventListener("touchmove",o,{passive:!1}),t.addEventListener("touchend",d)}(),$(".main__products-carousel-nav--prev").click(l),$(".main__products-carousel-nav--next").click(r),t.on("click",u)}));