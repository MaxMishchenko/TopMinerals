$(document).ready((function(){const e=$(".contacts__form-select-field"),t=e.find("#custom-select"),s=e.find(".contacts__form-select-options"),o=e.find(".contacts__form-select-wrapper"),r=s.find(".custom--option"),n=t.find("#selected-region"),c=e.find('input[name="region"]'),a=$("#phone"),i=$("#email"),l=($("#privacy-checkbox"),$("#privacy")),f=$("#name"),d=$("#contact-form"),h=$("#submit"),u="+380 ";function p(){s.removeClass("open"),o.removeClass("open"),e.removeClass("active")}function m(){const e=i.val().trim();return""===e?(i.removeClass("error"),!0):!!/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(e)||(i.addClass("error"),!1)}const v=new MutationObserver((function(e){e.forEach((function(e){if("class"===e.attributeName){const t=$(e.target);t.hasClass("error")?t.siblings(".contacts__form-field-error").css("display","flex"):t.siblings(".contacts__form-field-error").css("display","")}}))}));t.on("click",(function(t){t.stopPropagation(),s.toggleClass("open"),o.toggleClass("open"),e.toggleClass("active")})),t.on("keydown",(function(e){"Enter"===e.key&&$(this).is(":focus")&&(e.preventDefault(),t.trigger("click"))})),r.on("click",(function(e){e.stopPropagation();const t=$(this),s=t.data("value"),o=t.text();n.text(o),c.val(s),r.removeClass("selected"),t.addClass("selected"),p()})),$(document).on("click",p),$(document).on("keydown",(function(e){"Escape"===e.key&&p()})),a.on("focus",(function(){a.val().startsWith(u)||a.val(u)})),a.on("input",(function(){let e=a.val().replace(/\D/g,"");1!==e.length||a.val().startsWith(u)||(e="380"+e),e.startsWith("380")||(e="380"+e.replace(/^380/,"")),e=e.slice(0,12);let t="+";e.length>0&&(t+=e.substring(0,3)),e.length>3&&(t+=" "+e.substring(3,5)),e.length>5&&(t+=" "+e.substring(5,8)),e.length>8&&(t+=" "+e.substring(8,12)),a.val(t),a.hasClass("error")&&12===e.length&&a.removeClass("error")})),a.on("keydown",(function(e){a.val(),("Backspace"===e.key||"Delete"===e.key)&&a[0].selectionStart<=5&&e.preventDefault()})),a.on("blur",(function(){const e=a.val().replace(/\D/g,"");0===e.length?(a.val(""),a.removeClass("error")):12!==e.length?a.addClass("error"):a.removeClass("error")})),i.on("input",(function(){i.hasClass("error")&&m()&&i.removeClass("error")})),i.on("blur",(function(){m()||i.addClass("error")})),h.on("click",(function(e){if(e.preventDefault(),function(){let e=!0;if(d.find("[required]").each((function(){""===$(this).val().trim()?($(this).addClass("error"),e=!1):$(this).removeClass("error")})),12!==a.val().replace(/\D/g,"").length?(a.addClass("error"),e=!1):a.removeClass("error"),l.prop("checked")?l.removeClass("error"):(l.addClass("error"),e=!1),!e){const e=d.find(".error").first();if(e.length){const t=e.offset().top-$(window).height()/2+e.outerHeight()/2;$("html, body").animate({scrollTop:t},500)}}return e}()){const e=d.serialize(),t=$(".contacts__form"),s=t.offset().top,o=t.outerHeight(),r=s-$(window).height()/2+o/2;$.ajax({type:"POST",url:"https://jsonplaceholder.typicode.com/posts",data:e,success:function(e){$(".contacts__form-wrapper").hide(),$(".contacts__form-success").removeClass("hidden"),$("html, body").animate({scrollTop:r},600),d[0].reset(),d.find(".error").removeClass("error")},error:function(e,t,s){}})}})),$(".contacts__form-field").each((function(){v.observe(this,{attributes:!0,attributeFilter:["class"]})})),$("#privacy-checkbox, #privacy").on("click",(function(e){e.preventDefault();const t=$("#privacy"),s=$(".contacts__form-checkbox-icon");t.removeClass("error"),t.hasClass("checked")?(t.prop("checked",!1).removeClass("checked"),s.removeClass("checked")):(t.prop("checked",!0).addClass("checked"),s.addClass("checked"))})),l.on("change",(function(){$(this).prop("checked")&&$(this).removeClass("error")})),f.on("input",(function(){const e=$(this).val().trim();$(this).hasClass("error")&&e.length>=2&&($(this).removeClass("error"),$(this).siblings(".contacts__form-field-error").css("display",""))})),$(".contacts__faq-list").on("click",(function(){$(this).find(".contacts__faq-icon").toggleClass("open"),$(this).find("[data-text]").stop(!0,!0).slideToggle(200)}))}));