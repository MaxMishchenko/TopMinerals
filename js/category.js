$(document).ready((function(){const t=$(".category__products-carousel-track"),n=$(".category__products-carousel-nav--prev"),o=$(".category__products-carousel-nav--next"),e=$(".category__products-carousel-dots");let c=0,i=1;function s(){return t.find(".category__products-carousel-slide").filter(":visible")}function r(t){return 1===i?Math.ceil(t.length/i):Math.max(t.length-i+1,1)}function a(t){const n=$('<button type="button"></button>').attr("aria-label","Перемкнути на слайд "+(t+1)).toggleClass("active",t===c);return n.on("click",(()=>{c=t,u()})),n}function u(){const u=s();i=window.innerWidth>=1024?3:1;const l=r(u);if(u.length<=i)return t.css("transform",""),e.empty(),void n.add(o).addClass("disabled").hide();n.add(o).show(),c=Math.min(c,l-1),function(){const n=s().eq(0);if(!n.length)return;const o=n.outerWidth(!0),e=c*(o+16);t.css("transform",`translateX(-${e}px)`)}(),function(t){n.toggleClass("disabled",c<=0),o.toggleClass("disabled",c>=t-1)}(l),function(t){e.empty();for(let n=0;n<t;n++)e.append(a(n))}(l)}n.click((function(){s();c>0&&(c--,u())})),o.click((function(){const t=r(s());c<t-1&&(c++,u())}));let l=0,d=0;t.on("touchstart",(function(t){l=t.originalEvent.touches[0].clientX})),t.on("touchmove",(function(t){d=t.originalEvent.touches[0].clientX})),t.on("touchend",(function(){const t=d-l;if(t>50&&c>0)c--,u();else if(t<-50){const t=r(s());c<t-1&&(c++,u())}l=0,d=0})),$(window).on("resize",u),u()}));