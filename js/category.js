$(document).ready((function(){const t=$(".category__products-carousel-track"),n=$(".category__products-carousel-nav--prev"),o=$(".category__products-carousel-nav--next"),e=$(".category__products-carousel-dots");let c=0,s=1;function i(){return t.find(".category__products-carousel-slide").filter((function(){return"none"!==$(this).css("display")}))}function r(){s=window.innerWidth>=1024?3:1}function a(t){return 1===s?Math.ceil(t.length/s):Math.max(t.length-s+1,1)}function u(t){const n=$('<button type="button"></button>').attr("aria-label","Перемкнути на слайд "+(t+1)).toggleClass("active",t===c);return n.on("click",(()=>{c=t,l()})),n}function l(){r();const l=i(),d=a(l);if(l.length<=s)return t.css("transform",""),e.empty(),void n.add(o).addClass("disabled").hide();n.add(o).show(),c=Math.min(c,d-1),function(){const n=i().eq(0);if(!n.length)return;const o=n.outerWidth(!0),e=c*(o+16);t.css("transform",`translateX(-${e}px)`)}(),function(t){n.toggleClass("disabled",c<=0),o.toggleClass("disabled",c>=t-1)}(d),function(t){e.empty();for(let n=0;n<t;n++)e.append(u(n))}(d)}n.click((function(){c>0&&(c--,l())})),o.click((function(){const t=a(i());c<t-1&&(c++,l())}));let d=0,f=0;t.on("touchstart",(function(t){d=t.originalEvent.touches[0].clientX})),t.on("touchmove",(function(t){f=t.originalEvent.touches[0].clientX})),t.on("touchend",(function(){const t=f-d;if(t>50&&c>0)c--,l();else if(t<-50){const t=a(i());c<t-1&&(c++,l())}d=0,f=0})),$(window).on("resize",(()=>{const t=s;r(),s!==t&&(c=0),l()})),l()}));