$(document).ready((function(){const e=$(window),i=e.height(),a=$("body"),s=$("#burger"),o=$("#menu"),t=$("#menu-chevron"),n=$("#submenu"),l=$("#mobile-menu"),c=($(".lazy-bg"),$(".to-top"));let d,r,u=null;function f(){window.innerWidth>=1024?($("#header").removeClass("floating"),r=$("#header-wrapper")):r=$("#header")}function h(){const i=window.innerWidth>=1024,a=i?30:16,s=i?30:16;void 0!==r&&r.length&&(e.scrollTop()>a||r.offset().top>s)?i?$("#header-wrapper").addClass("floating"):$("#header").addClass("floating"):i?$("#header-wrapper").removeClass("floating"):$("#header").removeClass("floating")}function m(){const e=$(window).scrollTop(),i=$(window).height();$(".fade--in:not(.visible)").filter((function(){const a=$(this),s=a.offset().top,o=s+a.outerHeight();return s<e+i&&o>e})).each((function(e){$(this).addClass("visible")}))}function g(){n.hasClass("visible")?(n.css({transition:"opacity 0.4s ease",opacity:0}),setTimeout((()=>{n.removeClass("visible").css("transition","max-height 0.4s ease, opacity 0.4s ease")}),400)):(n.removeClass("hidden").addClass("visible").css({opacity:0,transition:"max-height 0.4s ease"}),setTimeout((()=>{n.css({transition:"opacity 0.4s ease",opacity:1})}),400)),t.toggleClass("active")}c.click((function(e){e.preventDefault(),$("html, body").animate({scrollTop:0},500)})),window.lazyLoadBackground=function(){const a=e.scrollTop();$(".lazy-bg").each((function(){const e=$(this),s=e.offset().top,o=e.data("bg");e.hasClass("lazy-bg")&&e.is(":visible")&&s<a+i&&o&&e.css({"background-image":`url(${o})`,opacity:0}).animate({opacity:1},600).removeClass("lazy-bg")})),$('img[loading="lazy"]').each((function(){const e=$(this);e.data("lazy-animated")||(e[0].complete?e.css("opacity",0).animate({opacity:1},600).data("lazy-animated",!0):e.css("opacity",0).on("load",(function(){$(this).animate({opacity:1},600).data("lazy-animated",!0)})))}))},e.on("scroll resize",(function(){u||(u=setTimeout((()=>{window.lazyLoadBackground(),u=null}),200))})),$(window).on("resize",f),$.fn.fadeInFlex=function(e=400){return this.css({display:"flex",opacity:0}).animate({opacity:1},e)},$.fn.fadeOutFlex=function(e=400){return this.animate({opacity:0},e,(function(){$(this).css("display","none")}))},$(window).on("scroll resize load",m),s.on("click",(function(){$(this).toggleClass("active"),l.toggleClass("active"),a.toggleClass("lock"),n.hasClass("visible")&&g()})),o.click(g),$(window).on("resize",(function(){$(window).width()>=1024&&(s.removeClass("active"),l.removeClass("active"),a.removeClass("lock"),n.hasClass("visible")&&(g(),t.removeClass("active")))})),f(),h(),lazyLoadBackground(),m(),e.on("scroll",(function(){h(),e.scrollTop()>400?c.is(":visible")||c.fadeInFlex(200):c.is(":visible")&&c.fadeOutFlex(200),window.innerWidth<1024&&(c.addClass("scrolling"),clearTimeout(d),d=setTimeout((()=>c.removeClass("scrolling")),200))}))}));