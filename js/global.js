$(document).ready((function(){const s=$(window),e=s.height(),a=$("body"),i=$("#header"),o=$("#burger"),t=$("#menu"),l=$("#menu-chevron"),n=$("#submenu"),c=$("#mobile-menu"),u=($(".lazy-bg"),$(".to-top"));let r,d=null;function f(){s.scrollTop()>16||16!==i.offset().top?i.addClass("floating"):i.removeClass("floating")}function g(){n.hasClass("visible")?(n.css({transition:"opacity 0.4s ease",opacity:0}),setTimeout((()=>{n.removeClass("visible").css("transition","max-height 0.4s ease, opacity 0.4s ease")}),400)):(n.removeClass("hidden").addClass("visible").css({opacity:0,transition:"max-height 0.4s ease"}),setTimeout((()=>{n.css({transition:"opacity 0.4s ease",opacity:1})}),400)),l.toggleClass("active")}u.click((function(s){s.preventDefault(),$("html, body").animate({scrollTop:0},500)})),window.lazyLoadBackground=function(){const a=s.scrollTop();$(".lazy-bg").each((function(){const s=$(this),i=s.offset().top,o=s.data("bg");s.hasClass("lazy-bg")&&s.is(":visible")&&i<a+e&&o&&s.css({"background-image":`url(${o})`,opacity:0}).animate({opacity:1},400).removeClass("lazy-bg")}))},s.on("scroll resize",(function(){d||(d=setTimeout((()=>{window.lazyLoadBackground(),d=null}),200))})),$.fn.fadeInFlex=function(s=400){return this.css({display:"flex",opacity:0}).animate({opacity:1},s)},$.fn.fadeOutFlex=function(s=400){return this.animate({opacity:0},s,(function(){$(this).css("display","none")}))},o.on("click",(function(){$(this).toggleClass("active"),c.toggleClass("active"),a.toggleClass("lock"),n.hasClass("visible")&&g()})),t.click(g),f(),lazyLoadBackground(),s.on("scroll",(function(){f(),s.scrollTop()>400?u.is(":visible")||u.fadeInFlex(300):u.is(":visible")&&u.fadeOutFlex(300),u.addClass("scrolling"),clearTimeout(r),r=setTimeout((()=>u.removeClass("scrolling")),200)}))}));