$(document).ready((function(){const e=$(window),a=e.height(),i=$("body"),s=$("#burger"),o=$("#menu"),t=$("#menu-chevron"),n=$("#submenu"),l=$("#mobile-menu"),c=($(".lazy-bg"),$(".to-top"));let d,r,u=null;function h(){window.innerWidth>=1024?($("#header").removeClass("floating"),r=$("#header-wrapper")):r=$("#header")}function f(){const a=window.innerWidth>=1024,i=a?30:16,s=a?30:16;void 0!==r&&r.length&&(e.scrollTop()>i||r.offset().top>s)?a?$("#header-wrapper").addClass("floating"):$("#header").addClass("floating"):a?$("#header-wrapper").removeClass("floating"):$("#header").removeClass("floating")}function m(){n.hasClass("visible")?(n.css({transition:"opacity 0.4s ease",opacity:0}),setTimeout((()=>{n.removeClass("visible").css("transition","max-height 0.4s ease, opacity 0.4s ease")}),400)):(n.removeClass("hidden").addClass("visible").css({opacity:0,transition:"max-height 0.4s ease"}),setTimeout((()=>{n.css({transition:"opacity 0.4s ease",opacity:1})}),400)),t.toggleClass("active")}c.click((function(e){e.preventDefault(),$("html, body").animate({scrollTop:0},500)})),window.lazyLoadBackground=function(){const i=e.scrollTop();$(".lazy-bg").each((function(){const e=$(this),s=e.offset().top,o=e.data("bg");e.hasClass("lazy-bg")&&e.is(":visible")&&s<i+a&&o&&e.css({"background-image":`url(${o})`,opacity:0}).animate({opacity:1},600).removeClass("lazy-bg")})),$('img[loading="lazy"]').each((function(){const e=$(this);e.data("lazy-animated")||(e[0].complete?e.css("opacity",0).animate({opacity:1},600).data("lazy-animated",!0):e.css("opacity",0).on("load",(function(){$(this).animate({opacity:1},600).data("lazy-animated",!0)})))}))},e.on("scroll resize",(function(){u||(u=setTimeout((()=>{window.lazyLoadBackground(),u=null}),200))})),$(window).on("resize",h),$.fn.fadeInFlex=function(e=400){return this.css({display:"flex",opacity:0}).animate({opacity:1},e)},$.fn.fadeOutFlex=function(e=400){return this.animate({opacity:0},e,(function(){$(this).css("display","none")}))},$(window).on("scroll resize load",(function(){const e=$(window).scrollTop(),a=$(window).height();$(".fade--in:not(.visible)").each((function(){const i=$(this),s=i.offset().top,o=s+i.outerHeight();s+.1*i.outerHeight()<e+a&&o-.5*i.outerHeight()>e&&i.addClass("visible")}))})),s.on("click",(function(){$(this).toggleClass("active"),l.toggleClass("active"),i.toggleClass("lock"),n.hasClass("visible")&&m()})),o.click(m),$(window).on("resize",(function(){$(window).width()>=1024&&(s.removeClass("active"),l.removeClass("active"),i.removeClass("lock"),n.hasClass("visible")&&(m(),t.removeClass("active")))})),h(),f(),lazyLoadBackground(),e.on("scroll",(function(){f(),e.scrollTop()>400?c.is(":visible")||c.fadeInFlex(200):c.is(":visible")&&c.fadeOutFlex(200),window.innerWidth<1024&&(c.addClass("scrolling"),clearTimeout(d),d=setTimeout((()=>c.removeClass("scrolling")),200))}))}));