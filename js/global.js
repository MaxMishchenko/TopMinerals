$(document).ready((function(){const e=$(window),a=e.height(),i=window.location.pathname,s=$("body"),o=$("#burger"),t=$("#menu"),n=$("#menu-chevron"),l=$("#submenu"),c=$("#mobile-menu"),d=($(".lazy-bg"),$(".to-top")),r=$(".header__menu-link"),u=$(".header__menu-item");let h,m,f=null;function g(){window.innerWidth>=1024?($("#header").removeClass("floating"),m=$("#header-wrapper")):m=$("#header")}function p(){const a=window.innerWidth>=1024,i=a?30:16,s=a?30:16;void 0!==m&&m.length&&(e.scrollTop()>i||m.offset().top>s)?a?$("#header-wrapper").addClass("floating"):$("#header").addClass("floating"):a?$("#header-wrapper").removeClass("floating"):$("#header").removeClass("floating")}function v(){l.hasClass("visible")?(l.css({transition:"opacity 0.4s ease",opacity:0}),setTimeout((()=>{l.removeClass("visible").css("transition","max-height 0.4s ease, opacity 0.4s ease")}),400)):(l.removeClass("hidden").addClass("visible").css({opacity:0,transition:"max-height 0.4s ease"}),setTimeout((()=>{l.css({transition:"opacity 0.4s ease",opacity:1})}),400)),n.toggleClass("active")}d.click((function(e){e.preventDefault(),$("html, body").animate({scrollTop:0},500)})),window.lazyLoadBackground=function(){const i=e.scrollTop();$(".lazy-bg").each((function(){const e=$(this),s=e.offset().top,o=e.data("bg");e.hasClass("lazy-bg")&&e.is(":visible")&&s<i+a&&o&&e.css({"background-image":`url(${o})`,opacity:0}).animate({opacity:1},600).removeClass("lazy-bg")})),$('img[loading="lazy"]').each((function(){const e=$(this);e.data("lazy-animated")||(e[0].complete?e.css("opacity",0).animate({opacity:1},600).data("lazy-animated",!0):e.css("opacity",0).on("load",(function(){$(this).animate({opacity:1},600).data("lazy-animated",!0)})))}))},e.on("scroll resize",(function(){f||(f=setTimeout((()=>{window.lazyLoadBackground(),f=null}),200))})),$(window).on("resize",g),$.fn.fadeInFlex=function(e=400){return this.css({display:"flex",opacity:0}).animate({opacity:1},e)},$.fn.fadeOutFlex=function(e=400){return this.animate({opacity:0},e,(function(){$(this).css("display","none")}))},$(window).on("scroll resize load",(function(){const e=$(window).scrollTop(),a=$(window).height();$(".fade--in:not(.visible)").each((function(){const i=$(this),s=i.offset().top,o=s+i.outerHeight();s+.1*i.outerHeight()<e+a&&o-.5*i.outerHeight()>e&&i.addClass("visible")}))})),r.each((function(){$(this).attr("href")===i&&(u.removeClass("active"),$(this).closest(u).addClass("active")),i.includes("/TopMinerals/about-us.html")&&(u.removeClass("active"),u.filter('[data-link="about-us"]').addClass("active"))})),o.on("click",(function(){$(this).toggleClass("active"),c.toggleClass("active"),s.toggleClass("lock"),l.hasClass("visible")&&v()})),t.click(v),$(window).on("resize",(function(){$(window).width()>=1024&&(o.removeClass("active"),c.removeClass("active"),s.removeClass("lock"),l.hasClass("visible")&&(v(),n.removeClass("active")))})),g(),p(),lazyLoadBackground(),e.on("scroll",(function(){p(),e.scrollTop()>400?d.is(":visible")||d.fadeInFlex(200):d.is(":visible")&&d.fadeOutFlex(200),window.innerWidth<1024&&(d.addClass("scrolling"),clearTimeout(h),h=setTimeout((()=>d.removeClass("scrolling")),200))}))}));